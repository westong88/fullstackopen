{"version":3,"sources":["components/Phonebook.js","components/Filter.js","components/AddForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Phonebook","people","confirmDelete","name","number","onClick","Filter","value","onChange","AddForm","submitAction","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","request","post","console","log","id","put","delete","Notification","message","styles","background","borderRadius","borderStyle","color","fontSize","marginBottom","padding","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","searchName","setSearchName","setMessage","notificationType","setNotificationType","i","useEffect","personService","length","show","filter","person","toLowerCase","includes","event","target","preventDefault","find","window","confirm","updatedPerson","map","catch","error","setTimeout","p","newPerson","concat","String","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f91040c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Phonebook = ({ people, confirmDelete }) => {\r\n    return (\r\n        <li>{people.name} {people.number}\r\n        <button onClick={confirmDelete}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Phonebook","import react from 'react'\r\n\r\nconst Filter = ({value, onChange}) =>{\r\n    return (\r\n        <div>\r\n          filter shown with<input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import react from 'react'\r\n\r\nconst AddForm = ({submitAction, name, handleNameChange, number, handleNumberChange}) =>{\r\n    return (\r\n        <form onSubmit={submitAction}>\r\n        <div>\r\n          name: <input value={name} onChange={handleNameChange} />\r\n        </div>\r\n        <div>number: <input value={number} onChange={handleNumberChange} /></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    console.log(newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n      const request = axios.delete(`${baseUrl}/${id}`)\r\n      return request.then(response => response.data)\r\n  }\r\n  \r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deletePerson\r\n}","import react from 'react'\r\n\r\nconst Notification = ({ message, type}) => {\r\n  \r\n  const styles = {\r\n    background: 'lightgrey',\r\n    borderRadius: 5,\r\n    borderStyle: 'solid',\r\n    color: type==='success' ? 'green' : 'red',\r\n    fontSize: 20,\r\n    marginBottom: 10,\r\n    padding: 10,\r\n  }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={styles}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Phonebook from './components/Phonebook'\r\nimport Filter from './components/Filter'\r\nimport AddForm from './components/AddForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [searchName, setSearchName] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [notificationType, setNotificationType] = useState('')\r\n  var i = 1\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setSearchName(event.target.value)\r\n    setShowAll(false)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const target = persons.find(person => person.name === newName)\r\n    if (target) {\r\n      const result = window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')\r\n      if(result){\r\n        const updatedPerson = {name: newName, number: newNumber, id: target.id}\r\n        personService.update(target.id, updatedPerson)\r\n        .then(response => {\r\n          setPersons(persons.map(person => person.id == updatedPerson.id ? updatedPerson : person))\r\n        })\r\n        .catch(error => {\r\n          setNotificationType('error')\r\n          setMessage(\r\n            `Information of ${updatedPerson.name} has already been removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p.id != updatedPerson.id))\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      const newPerson = {name: newName, number: newNumber}\r\n      personService\r\n        .create(newPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNotificationType('success')\r\n          setMessage(\r\n            `Added ${newPerson.name}`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setMessage(String(error.response.data))\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const confirmDelete = (person) =>{\r\n    const result = window.confirm(`Delete ${person.name} ?`)\r\n    if(result){\r\n      personService.deletePerson(person.id)\r\n      .then(response => setPersons(persons.filter(p => p.id != person.id)))\r\n    }\r\n  }\r\n\r\n  const show = showAll ? persons : persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} type={notificationType}/>\r\n        <Filter value={searchName} onChange={handleSearchChange}/>\r\n      <h2>add a new</h2>\r\n      <AddForm \r\n      submitAction={addPerson} name={newName} handleNameChange={handleNameChange} \r\n      number={newNumber} handleNumberChange={handleNumberChange}></AddForm>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {show.map(person => <Phonebook key={i++} people={person} confirmDelete={() => confirmDelete(person)} />)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}