{"version":3,"sources":["components/Phonebook.js","components/Filter.js","components/AddForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Phonebook","people","confirmDelete","name","number","onClick","Filter","value","onChange","AddForm","submitAction","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","styles","background","borderRadius","borderStyle","color","fontSize","marginBottom","padding","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","searchName","setSearchName","setMessage","notificationType","setNotificationType","i","useEffect","personService","console","log","length","show","filter","person","toLowerCase","includes","event","target","preventDefault","find","window","confirm","updatedPerson","map","catch","error","setTimeout","p","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"wKAUeA,EARG,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACzB,OACI,+BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAC1B,wBAAQC,QAASH,EAAjB,wBCKOI,EARA,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,SACpB,OACI,oDACmB,uBAAOD,MAAOA,EAAOC,SAAUA,QCW3CC,EAdC,SAAC,GAAuE,IAAtEC,EAAqE,EAArEA,aAAcP,EAAuD,EAAvDA,KAAMQ,EAAiD,EAAjDA,iBAAkBP,EAA+B,EAA/BA,OAAQQ,EAAuB,EAAvBA,mBAC5D,OACI,uBAAMC,SAAUH,EAAhB,UACA,yCACQ,uBAAOH,MAAOJ,EAAMK,SAAUG,OAEtC,2CAAa,uBAAOJ,MAAOH,EAAQI,SAAUI,OAC7C,8BACE,wBAAQE,KAAK,SAAb,uBCTJC,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfE,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVE,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALQ,SAACG,GAElB,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCKhCM,EAvBM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,QAEhBC,EAAS,CACbC,WAAY,YACZC,aAAc,EACdC,YAAa,QACbC,MAAc,YANyB,EAAVlB,KAMH,QAAU,MACpCmB,SAAU,GACVC,aAAc,GACdC,QAAS,IAGT,OAAgB,OAAZR,EACK,KAIP,qBAAKS,MAAOR,EAAZ,SACGD,KC0FMU,EAtGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIcN,oBAAS,GAJvB,mBAITO,EAJS,KAIAC,EAJA,OAKoBR,mBAAS,IAL7B,mBAKTS,EALS,KAKGC,EALH,OAMcV,mBAAS,MANvB,mBAMTX,EANS,KAMAsB,EANA,OAOgCX,mBAAS,IAPzC,mBAOTY,EAPS,KAOSC,EAPT,KAQZC,EAAI,EAERC,qBAAU,WACRC,IAEGpC,MAAK,SAAAC,GACJoC,QAAQC,IAAI,qBACZhB,EAAWrB,QAEd,IACHoC,QAAQC,IAAI,SAAUjB,EAAQkB,OAAQ,WAEtC,IA+DMC,EAAOb,EAAUN,EAAUA,EAAQoB,QAAO,SAAAC,GAAM,OAAIA,EAAOzD,KAAK0D,cAAcC,SAASf,EAAWc,kBAExG,OACE,gCACE,2CACA,cAAC,EAAD,CAAclC,QAASA,EAASb,KAAMoC,IACpC,cAAC,EAAD,CAAQ3C,MAAOwC,EAAYvC,SA7DN,SAACuD,GAC1Bf,EAAce,EAAMC,OAAOzD,OAC3BuC,GAAW,MA4DT,2CACA,cAAC,EAAD,CACApC,aA3Dc,SAACqD,GACjBA,EAAME,iBACN,IAAMD,EAASzB,EAAQ2B,MAAK,SAAAN,GAAM,OAAIA,EAAOzD,OAASsC,KACtD,GAAIuB,EAAQ,CAEV,GADeG,OAAOC,QAAQ3B,EAAU,0EAC9B,CACR,IAAM4B,EAAgB,CAAClE,KAAMsC,EAASrC,OAAQuC,EAAWpB,GAAIyC,EAAOzC,IACpE+B,EAAqBU,EAAOzC,GAAI8C,GAC/BnD,MAAK,SAAAC,GACJqB,EAAWD,EAAQ+B,KAAI,SAAAV,GAAM,OAAIA,EAAOrC,IAAM8C,EAAc9C,GAAK8C,EAAgBT,SAElFW,OAAM,SAAAC,GACLrB,EAAoB,SACpBF,EAAW,kBAAD,OACUoB,EAAclE,KADxB,0CAGVsE,YAAW,WACTxB,EAAW,QACV,KACHT,EAAWD,EAAQoB,QAAO,SAAAe,GAAC,OAAIA,EAAEnD,IAAM8C,EAAc9C,eAItD,CACH,IAAMoD,EAAY,CAACxE,KAAMsC,EAASrC,OAAQuC,GAC1CW,EACUqB,GACPzD,MAAK,SAAAC,GACJqB,EAAWD,EAAQqC,OAAOD,IAC1BxB,EAAoB,WACpBF,EAAW,SAAD,OACC0B,EAAUxE,OAErBsE,YAAW,WACTxB,EAAW,QACV,QAGTP,EAAW,IACXE,EAAa,KAoBczC,KAAMsC,EAAS9B,iBAxEnB,SAACoD,GACxBR,QAAQC,IAAIO,EAAMC,OAAOzD,OACzBmC,EAAWqB,EAAMC,OAAOzD,QAuEtBH,OAAQuC,EAAW/B,mBApEI,SAACmD,GAC1BnB,EAAamB,EAAMC,OAAOzD,UAoExB,yCACA,6BACGmD,EAAKY,KAAI,SAAAV,GAAM,OAAI,cAAC,EAAD,CAAqB3D,OAAQ2D,EAAQ1D,cAAe,kBArBxD,SAAC0D,GACNO,OAAOC,QAAP,iBAAyBR,EAAOzD,KAAhC,QAEbmD,EAA2BM,EAAOrC,IACjCL,MAAK,SAAAC,GAAQ,OAAIqB,EAAWD,EAAQoB,QAAO,SAAAe,GAAC,OAAIA,EAAEnD,IAAMqC,EAAOrC,UAiBgBrB,CAAc0D,KAAxDR,cCrG5CyB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.c1254f15.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Phonebook = ({ people, confirmDelete }) => {\r\n    return (\r\n        <li>{people.name} {people.number}\r\n        <button onClick={confirmDelete}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Phonebook","import react from 'react'\r\n\r\nconst Filter = ({value, onChange}) =>{\r\n    return (\r\n        <div>\r\n          filter shown with<input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import react from 'react'\r\n\r\nconst AddForm = ({submitAction, name, handleNameChange, number, handleNumberChange}) =>{\r\n    return (\r\n        <form onSubmit={submitAction}>\r\n        <div>\r\n          name: <input value={name} onChange={handleNameChange} />\r\n        </div>\r\n        <div>number: <input value={number} onChange={handleNumberChange} /></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n      const request = axios.delete(`${baseUrl}/${id}`)\r\n      return request.then(response => response.data)\r\n  }\r\n  \r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deletePerson\r\n}","import react from 'react'\r\n\r\nconst Notification = ({ message, type}) => {\r\n  \r\n  const styles = {\r\n    background: 'lightgrey',\r\n    borderRadius: 5,\r\n    borderStyle: 'solid',\r\n    color: type==='success' ? 'green' : 'red',\r\n    fontSize: 20,\r\n    marginBottom: 10,\r\n    padding: 10,\r\n  }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={styles}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Phonebook from './components/Phonebook'\r\nimport Filter from './components/Filter'\r\nimport AddForm from './components/AddForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [searchName, setSearchName] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [notificationType, setNotificationType] = useState('')\r\n  var i = 1\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setSearchName(event.target.value)\r\n    setShowAll(false)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const target = persons.find(person => person.name === newName)\r\n    if (target) {\r\n      const result = window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')\r\n      if(result){\r\n        const updatedPerson = {name: newName, number: newNumber, id: target.id}\r\n        personService.update(target.id, updatedPerson)\r\n        .then(response => {\r\n          setPersons(persons.map(person => person.id == updatedPerson.id ? updatedPerson : person))\r\n        })\r\n        .catch(error => {\r\n          setNotificationType('error')\r\n          setMessage(\r\n            `Information of ${updatedPerson.name} has already been removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p.id != updatedPerson.id))\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      const newPerson = {name: newName, number: newNumber}\r\n      personService\r\n        .create(newPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNotificationType('success')\r\n          setMessage(\r\n            `Added ${newPerson.name}`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const confirmDelete = (person) =>{\r\n    const result = window.confirm(`Delete ${person.name} ?`)\r\n    if(result){\r\n      personService.deletePerson(person.id)\r\n      .then(response => setPersons(persons.filter(p => p.id != person.id)))\r\n    }\r\n  }\r\n\r\n  const show = showAll ? persons : persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} type={notificationType}/>\r\n        <Filter value={searchName} onChange={handleSearchChange}/>\r\n      <h2>add a new</h2>\r\n      <AddForm \r\n      submitAction={addPerson} name={newName} handleNameChange={handleNameChange} \r\n      number={newNumber} handleNumberChange={handleNumberChange}></AddForm>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {show.map(person => <Phonebook key={i++} people={person} confirmDelete={() => confirmDelete(person)} />)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}